paths:
  /users:
    get:
      summary: 'Get list of users (SECURED)'
      description: 'Special privilege required'
      tags:
        - Users
      responses:
        200:
          description: 'Return list of users'
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    email:
                      $ref: '#/components/props/email'
                    userEvents:
                      $ref: '#/components/props/userEvents'
                    roles:
                      $ref: '#/components/props/roles'
        400:
          description: 'Validation error'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/400'
        401:
          description: 'No permissions'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/401'                  
    post:
      summary: 'Add user (SECURED)'
      description: 'Special privilege required'
      tags:
        - Users
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  $ref: '#/components/props/email'
                roles:
                  $ref: '#/components/props/roles'
              required:
                - email
                - roles    
      responses:
        200:
          description: 'User data'
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    $ref: '#/components/props/success'
        400:
          description: 'Validation error'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/400'
        401:
          description: 'No permissions'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/401'
  /users/:id:
    get:
      summary: 'Get user with :id (SECURED)'
      description: 'Special privilege required'
      tags:
        - Users
      responses:
        200:
          description: 'User data'
          content:
            application/json:
              schema:
                type: object
                properties:
                  email:
                    $ref: '#/components/props/email'
                  userEvents:
                    $ref: '#/components/props/userEvents'
                  roles:
                    $ref: '#/components/props/roles'  
        400:
          description: 'Validation error'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/400'
        401:
          description: 'No permissions'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/401'
    put:
      summary: 'Update user with :id (SECURED)'
      description: 'Special privilege required'
      tags:
        - Users
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  $ref: '#/components/props/email'
                userEvents:
                  $ref: '#/components/props/userEvents'
                roles:
                  $ref: '#/components/props/roles'
      responses:
        200:
          description: 'Result of operation'
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    $ref: '#/components/props/success'
        400:
          description: 'Validation error'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/400'
        401:
          description: 'No permissions'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/401'
    delete: 
      summary: 'Delete user with :id (SECURED)'
      description: 'Special privilege required'
      tags:
        - Users
      responses:
        200:
          description: 'Result of operation'
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    $ref: '#/components/props/success'
        400:
          description: 'Validation error'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/400'
        401:
          description: 'No permissions'
          content:
            application/json:
              schema:
                $ref: '#/components/responses/401'   